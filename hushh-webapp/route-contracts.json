{
  "version": 1,
  "allowlistedWebRouteFiles": [
    "hushh-webapp/app/api/chat/route.ts",
    "hushh-webapp/app/api/consent/events/[userId]/route.ts",
    "hushh-webapp/app/api/notifications/register/route.ts"
  ],
  "contracts": [
    {
      "id": "kaiProxy",
      "webRouteFile": "hushh-webapp/app/api/kai/[...path]/route.ts",
      "backend": {
        "file": "consent-protocol/api/routes/kai/__init__.py",
        "routerPrefix": "/api/kai",
        "paths": [
          "/health",
          "/chat",
          "/chat/history/{conversation_id}",
          "/chat/conversations/{user_id}",
          "/chat/initial-state/{user_id}",
          "/consent/grant",
          "/analyze",
          "/preferences/store",
          "/preferences/{user_id}",
          "/portfolio/import",
          "/portfolio/summary/{user_id}",
          "/portfolio/analyze-losers"
        ]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/kai.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/KaiPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/Kai/KaiPlugin.kt",
        "requiredMethodNames": [
          "grantConsent",
          "analyze",
          "analyzePortfolioLosers",
          "storePreferences",
          "getPreferences",
          "resetPreferences"
        ]
      }
    },
    {
      "id": "vaultWebProxy",
      "webRouteFiles": [
        "hushh-webapp/app/api/vault/check/route.ts",
        "hushh-webapp/app/api/vault/get/route.ts",
        "hushh-webapp/app/api/vault/setup/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/db_proxy.py",
        "routerPrefix": "/db",
        "paths": [
          "/vault/check",
          "/vault/get",
          "/vault/setup"
        ]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/index.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/HushhVaultPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/HushhVault/HushhVaultPlugin.kt",
        "requiredMethodNames": [
          "hasVault",
          "getVault",
          "setupVault"
        ]
      }
    },
    {
      "id": "vaultStatus",
      "webRouteFile": "hushh-webapp/app/api/vault/status/route.ts",
      "backend": {
        "file": "consent-protocol/api/routes/db_proxy.py",
        "routerPrefix": "/db",
        "paths": ["/vault/status"]
      }
    },
    {
      "id": "vaultOwnerToken",
      "webRouteFile": "hushh-webapp/app/api/consent/vault-owner-token/route.ts",
      "backend": {
        "file": "consent-protocol/api/routes/consent.py",
        "routerPrefix": "/api/consent",
        "paths": ["/vault-owner-token"]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/index.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/HushhConsentPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/HushhConsent/HushhConsentPlugin.kt",
        "requiredMethodNames": ["issueVaultOwnerToken"]
      }
    },
    {
      "id": "consentPendingMgmt",
      "webRouteFiles": [
        "hushh-webapp/app/api/consent/pending/route.ts",
        "hushh-webapp/app/api/consent/pending/approve/route.ts",
        "hushh-webapp/app/api/consent/pending/deny/route.ts",
        "hushh-webapp/app/api/consent/cancel/route.ts",
        "hushh-webapp/app/api/consent/revoke/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/consent.py",
        "routerPrefix": "/api/consent",
        "paths": [
          "/pending",
          "/pending/approve",
          "/pending/deny",
          "/cancel",
          "/revoke"
        ]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/index.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/HushhConsentPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/HushhConsent/HushhConsentPlugin.kt",
        "requiredMethodNames": [
          "approve",
          "deny",
          "cancel",
          "revokeConsent"
        ]
      }
    },
    {
      "id": "consentSessionMgmt",
      "webRouteFiles": [
        "hushh-webapp/app/api/consent/session-token/route.ts",
        "hushh-webapp/app/api/consent/logout/route.ts",
        "hushh-webapp/app/api/consent/history/route.ts",
        "hushh-webapp/app/api/consent/active/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/session.py",
        "routerPrefix": "/api",
        "paths": [
          "/consent/issue-token",
          "/consent/logout",
          "/consent/history",
          "/consent/active"
        ]
      }
    },
    {
      "id": "worldModelProxy",
      "webRouteFiles": [
        "hushh-webapp/app/api/world-model/[...path]/route.ts",
        "hushh-webapp/app/api/world-model/domains/route.ts",
        "hushh-webapp/app/api/world-model/domains/[userId]/route.ts",
        "hushh-webapp/app/api/world-model/metadata/[userId]/route.ts",
        "hushh-webapp/app/api/world-model/scopes/[userId]/route.ts",
        "hushh-webapp/app/api/world-model/store-domain/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/world_model.py",
        "routerPrefix": "/api/world-model",
        "paths": [
          "/metadata/{user_id}",
          "/store-domain",
          "/data/{user_id}",
          "/domain-data/{user_id}/{domain}"
        ]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/world-model.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/WorldModelPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/WorldModel/WorldModelPlugin.kt",
        "requiredMethodNames": [
          "getMetadata",
          "getIndex",
          "getAttributes",
          "getUserDomains"
        ]
      }
    },
    {
      "id": "identityProxy",
      "webRouteFiles": [
        "hushh-webapp/app/api/identity/auto-detect/route.ts",
        "hushh-webapp/app/api/identity/confirm/route.ts",
        "hushh-webapp/app/api/identity/status/route.ts",
        "hushh-webapp/app/api/identity/profile/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/identity.py",
        "routerPrefix": "/api/identity",
        "paths": ["/auto-detect", "/confirm", "/status", "/profile"]
      },
      "native": {
        "tsPluginFile": "hushh-webapp/lib/capacitor/index.ts",
        "iosPluginFile": "hushh-webapp/ios/App/App/Plugins/HushhIdentityPlugin.swift",
        "androidPluginFile": "hushh-webapp/android/app/src/main/java/com/hushh/app/plugins/HushhIdentity/HushhIdentityPlugin.kt",
        "requiredMethodNames": [
          "autoDetect",
          "confirmIdentity",
          "getIdentityStatus",
          "getEncryptedProfile",
          "resetIdentity"
        ]
      }
    },
    {
      "id": "investorsPublic",
      "webRouteFiles": [
        "hushh-webapp/app/api/investors/search/route.ts",
        "hushh-webapp/app/api/investors/[id]/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/investors.py",
        "routerPrefix": "/api/investors",
        "paths": ["/search", "/{investor_id}"]
      }
    },
    {
      "id": "tokenValidationAndAgentChat",
      "webRouteFiles": [
        "hushh-webapp/app/api/vault/store-preferences/route.ts"
      ],
      "backend": {
        "file": "consent-protocol/api/routes/agents.py",
        "routerPrefix": "/api",
        "paths": ["/validate-token", "/agents/kai/chat"]
      }
    },
    {
      "id": "authSessionInternal",
      "webRouteFile": "hushh-webapp/app/api/auth/session/route.ts"
    }
  ]
}

generator client {
  provider = "prisma-client"
  output   = "./generated/client"
}

datasource db {
  provider = "sqlserver"
}

model FormSubmission {
  id          String   @id @default(cuid())
  name        String
  email       String
  company     String?
  phone       String?
  type        String?  // Institution type
  location    String?  // Location
  role        String?  // User role
  message     String
  products    String?  // JSON array of selected product slugs
  status      String   @default("new") // new, in progress, completed
  emailSent   Boolean  @default(false)
  emailSentAt DateTime?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("form_submissions")
}

model Metric {
  id           String   @id @default(cuid())
  name         String   @unique
  value        BigInt
  description  String?
  category     String?
  isActive     Boolean  @default(true)
  displayOrder Int      @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("metrics")
}

model MetricConfig {
  id          String   @id @default(cuid())
  key         String   @unique
  value       String   // JSON string for flexibility
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("metric_configs")
}

model AdminEmail {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?  // Optional name for the admin
  isActive  Boolean  @default(true) // Enable/disable without deleting
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("admin_emails")
}
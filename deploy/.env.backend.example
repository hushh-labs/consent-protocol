# Backend Environment Variables Template
# Copy this to .env.backend and fill in production values

# ============================================================================
# PRODUCTION CONFIGURATION
# ============================================================================

# Environment
ENVIRONMENT=production
PORT=8080

# Frontend URL (UPDATE AFTER FRONTEND DEPLOYMENT)
# This is used for CORS configuration
FRONTEND_URL=https://hushh-webapp-XXXXXXXXXX-uc.a.run.app

# ============================================================================
# SECRETS (Managed via Google Cloud Secret Manager)
# ============================================================================
# DO NOT set these here - they are injected from Secret Manager
# Listed here for documentation purposes only

# SECRET_KEY=<64-char hex HMAC signing key>
# VAULT_ENCRYPTION_KEY=<64-char hex AES encryption key>
# GOOGLE_API_KEY=<Google Gemini API key>
# FIREBASE_SERVICE_ACCOUNT_JSON=<Firebase Admin SDK JSON>
# DB_USER=<Supabase pooler username, e.g., postgres.project-ref>
# DB_PASSWORD=<Database password>

# ============================================================================
# DATABASE CONFIGURATION (Supabase Session Pooler)
# ============================================================================
# Uses individual DB_* environment variables for Supabase connection pooling
# DB_HOST, DB_PORT, DB_NAME are set as Cloud Run env vars (not secrets)
# DB_USER and DB_PASSWORD are injected from Secret Manager
#
# Example values:
# DB_HOST=aws-1-us-east-1.pooler.supabase.com
# DB_PORT=5432
# DB_NAME=postgres

# ============================================================================
# TOKEN EXPIRATION (milliseconds)
# ============================================================================
DEFAULT_CONSENT_TOKEN_EXPIRY_MS=604800000    # 7 days
DEFAULT_TRUST_LINK_EXPIRY_MS=2592000000      # 30 days

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================
AGENT_ID=agent_hushh_production
HUSHH_HACKATHON=disabled

# ============================================================================
# NOTES
# ============================================================================
# 1. Secrets are managed via Google Cloud Secret Manager
# 2. Use verify-secrets.ps1 to verify all secrets exist
# 3. DB_USER and DB_PASSWORD are injected from Secret Manager
# 4. DB_HOST, DB_PORT, DB_NAME are set as Cloud Run env vars
# 5. Update FRONTEND_URL after deploying frontend
